/**
 * better-time-element: Useful <time> element extensions
 * @version 1.0.0-beta.3 Wed, 06 Apr 2016 16:52:58 GMT
 * @link https://github.com/chemerisuk/better-time-element
 * @copyright 2016 Maksim Chemerisuk
 * @license MIT
 */
!function(e,t){"use strict";var a=e.__,n=function(e,t){return 1===t?e:("00"+e).slice(-t)};e.extend("time[is=local-time]",{constructor:function(){this.on("change",this._changeValue.bind(this)),this._changeValue()},_changeValue:function(){var e=this.get("datetime");if(e){var r=new Date(e),s="";if(r.getTime()){var c=this.get("data-format");c||(c="E, dd MMM yyyy H:mm:ss"),s=c.replace(/\w+/g,function(e){switch(e){case"H":case"HH":e=n(r.getHours(),e.length);break;case"h":case"hh":e=n(r.getHours()%12||12,e.length);break;case"m":case"mm":e=n(r.getMinutes(),e.length);break;case"s":case"ss":e=n(r.getSeconds(),e.length);break;case"d":case"dd":e=n(r.getDate(),e.length);break;case"E":e=a(t.DAYS[r.getDay()].slice(0,2));break;case"EE":e=a(t.DAYS[r.getDay()]);break;case"D":case"DD":e=n(t.getDayInYear(r),1===e.length?1:3);break;case"w":case"ww":e=n(t.getWeekInYear(r),e.length);break;case"W":e=t.getWeekInMonth(r);break;case"M":case"MM":e=n(r.getMonth()+1,e.length);break;case"MMM":e=a(t.MONTHS[r.getMonth()].substr(0,3)+".");break;case"MMMM":e=a(t.MONTHS[r.getMonth()]);break;case"y":case"yy":e=n(r.getFullYear()%100,e.length);break;case"yyyy":e=r.getFullYear();break;case"u":e=r.getDay()||7;break;case"F":e=t.getWeekCountInMonth(r)}return e.toString()})}else s=r.toString();this.value(s)}}}),e.importStrings("en",t.MONTHS.reduce(function(e,t){var a=t.slice(0,3);return e[a+"."]=a,e},{}))}(window.DOM,{DAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),MONTHS:"January February March April May June July August September October November December".split(" "),getWeekInYear:function(e){e=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=Date.UTC(e.getUTCFullYear(),0,1);return Math.ceil((1+(e-t)/864e5)/7)},getWeekInMonth:function(e){var t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)).getUTCDay(),a=e.getUTCDate()+t-1;return 1+Math.floor(a/7)},getWeekCountInMonth:function(e){return Math.ceil(e.getUTCDate()/7)},getDayInYear:function(e){var t=Date.UTC(e.getUTCFullYear(),0,1),a=e.getTime()-t;return Math.floor(1+a/864e5)}});